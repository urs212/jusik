<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì„œë²„ ì‹¤ì‹œê°„ ì£¼ì‹ í˜„í™©</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        body { background: #121212; color: white; font-family: 'Pretendard', sans-serif; text-align: center; }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; max-width: 600px; margin: 50px auto; }
        .stock-card { background: #1e1e1e; padding: 25px; border-radius: 20px; border: 1px solid #333; }
        .price { font-size: 32px; font-weight: bold; color: #4caf50; margin-top: 10px; }
        .label { color: #888; font-size: 14px; }
    </style>
</head>
<body>
    <h1 style="margin-top: 50px;">ğŸ“ˆ ì‹¤ì‹œê°„ ì£¼ì‹ ê±°ë˜ì†Œ</h1>
    <div class="grid">
        <div class="stock-card"><div class="label">(ì£¼)ì„ìŠ¹í˜</div><div id="sh" class="price">0ì›</div></div>
        <div class="stock-card"><div class="label">(ì£¼)mid</div><div id="mid" class="price">0ì›</div></div>
        <div class="stock-card"><div class="label">(ì£¼)core</div><div id="core" class="price">0ì›</div></div>
        <div class="stock-card"><div class="label">(ì£¼)server</div><div id="server" class="price">0ì›</div></div>
    </div>

    <script>
        // 1. íŒŒì´ì–´ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •
        const firebaseConfig = {
            databaseURL: "https://midocre-a86a5-default-rtdb.firebaseio.com/"
        };

        // 2. ì´ˆê¸°í™”
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // 3. ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateStock(id) {
            database.ref('stocks/' + id).on('value', (snapshot) => {
                const value = snapshot.val();
                const element = document.getElementById(id);
                if (value !== null) {
                    element.innerText = value.toLocaleString() + "ì›";
                    // ê°’ì´ ë³€í•  ë•Œ ë°˜ì§ì´ëŠ” íš¨ê³¼ (ì„ íƒì‚¬í•­)
                    element.style.color = "#81c784";
                    setTimeout(() => { element.style.color = "#4caf50"; }, 500);
                }
            });
        }

        // ì‹¤í–‰
        updateStock('sh');
        updateStock('mid');
        updateStock('core');
        updateStock('server');
    </script>
</body>
</html>
